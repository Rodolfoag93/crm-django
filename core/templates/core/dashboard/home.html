{% extends "core/base.html" %}
{% block content %}

<h2 style="text-align:center; margin-top:20px;">ðŸ“Š Resumen Mensual</h2>

<!-- Selector de mes/aÃ±o -->
<form method="get" style="text-align:center; margin-bottom:30px;">
    <select name="mes">
        {% for mes in meses %}
            <option value="{{ m }}" {% if m == mes_seleccionado %}selected{% endif %}>
                {{ m }}
            </option>
        {% endfor %}
    </select>
    <input type="number" name="aÃ±o" value="{{ aÃ±o_seleccionado }}" style="width:80px;">
    <button type="submit" style="padding:5px 10px;">Ver</button>
</form>

<div style="display:flex; justify-content:space-between; align-items:center; margin:30px 0;">

    <!-- Mes anterior -->
    <a href="?mes={{ mes_anterior }}&aÃ±o={{ aÃ±o_anterior }}"
       style="padding:10px 20px; background:#eee; border-radius:8px; text-decoration:none; font-weight:bold;">
        â¬… Mes anterior
    </a>

    <!-- Mes actual -->
    <h3 style="margin:0;">
        ðŸ“… {{ mes_seleccionado }}/{{ aÃ±o_seleccionado }}
    </h3>

    <!-- Mes siguiente -->
    <a href="?mes={{ mes_siguiente }}&aÃ±o={{ aÃ±o_siguiente }}"
       style="padding:10px 20px; background:#eee; border-radius:8px; text-decoration:none; font-weight:bold;">
        Mes siguiente âž¡
    </a>

</div>


<div style="display:flex; flex-wrap:wrap; justify-content:center; gap:30px;">

    <div style="width:250px; background:#2196F3; color:white; border-radius:12px; padding:30px; text-align:center;">
        <h3>ðŸ“¦ Ingresos</h3>
        <p style="font-size:20px; font-weight:bold;">${{ ingresos_mes|floatformat:2 }}</p>
    </div>

    <div style="width:250px; background:#e53935; color:white; border-radius:12px; padding:30px; text-align:center;">
        <h3>ðŸ’¸ Gastos</h3>
        <p style="font-size:20px; font-weight:bold;">${{ gastos_mes|floatformat:2 }}</p>
    </div>

    <div style="width:250px; background:#43a047; color:white; border-radius:12px; padding:30px; text-align:center;">
        <h3>ðŸ’° NÃ³mina</h3>
        <p style="font-size:20px; font-weight:bold;">${{ nomina_mes|floatformat:2 }}</p>
    </div>

    <div style="width:250px; background:#ffb300; color:white; border-radius:12px; padding:30px; text-align:center;">
        <h3>ðŸ“ˆ Utilidad</h3>
        <p style="font-size:20px; font-weight:bold;">${{ utilidad|floatformat:2 }}</p>
    </div>

</div>

{% endblock %}
