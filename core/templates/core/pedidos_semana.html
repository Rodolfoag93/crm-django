{% extends 'core/base.html' %}

{% block content %}
<h2 style="text-align:center; margin-top: 20px;">Pedidos de la Semana</h2>

<p style="text-align:center;">
    Del <strong>{{ inicio_semana }}</strong> al <strong>{{ fin_semana }}</strong>
</p>

<div style="width: 90%; margin: auto; text-align: right; margin-bottom: 20px; display:flex; justify-content:flex-end; gap:15px;">

    <!-- Bot√≥n Registrar Gasto -->
    <a href="{% url 'nuevo_gasto' %}"
       style="padding: 10px 15px; background-color: #e53935; color: white;
              text-decoration: none; border-radius: 6px; font-weight: bold;">
        ‚ûï Registrar Gasto
    </a>

    <!-- Bot√≥n Registrar Compra -->
    <a href="{% url 'nueva_compra' %}"
       style="padding: 10px 15px; background-color: #3949ab; color: white;
              text-decoration: none; border-radius: 6px; font-weight: bold;">
        üõí Registrar Compra
    </a>

</div>

<hr>

<table style="width: 90%; margin: auto; border-collapse: collapse;">
    <thead>
        <tr style="background-color: #4CAF50; color: white;">
            <th style="padding: 10px;">Folio</th>
            <th>Cliente</th>
            <th>Fecha</th>
            <th>Hora</th>
            <th>Pagado</th>
            <th>Total</th>
            <th></th>
        </tr>
    </thead>

    <tbody>
        {% for r in rentas %}
        <tr style="background: white;">
            <td style="padding: 10px;">{{ r.folio }}</td>
            <td>{{ r.cliente.nombre }}</td>
            <td>{{ r.fecha_renta }}</td>
            <td>{{ r.hora_inicio }} - {{ r.hora_fin }}</td>
            <td>
                {% if r.pagado %}
                    ‚úî Pagado
                {% else %}
                    ‚ùå Pendiente
                {% endif %}
            </td>
            <td>${{ r.precio_total }}</td>
            <td>
                <a href="{% url 'editar_renta' r.id %}"
                   style="padding: 5px 10px; background:#2196F3; color:white; text-decoration:none; border-radius:5px;">
                    Editar
                </a>
            </td>
        </tr>
        {% empty %}
        <tr>
            <td colspan="7" style="text-align:center; padding:20px;">
                No hay rentas en esta semana.
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}