{% extends "core/base.html" %}
{% block content %}

<h2 style="text-align:center;">ğŸ’° Finanzas</h2>
<hr>

<!-- ================= ACCIONES ================= -->
<div style="
    display:flex;
    gap:20px;
    flex-wrap:wrap;
    justify-content:center;
    margin-bottom:30px;
">

    <a href="{% url 'registrar_movimiento' %}" class="finanzas-card ingreso">
        â•<br>Ingreso / Egreso
    </a>

    <a href="{% url 'transferencia_cuentas' %}" class="finanzas-card transferencia">
        ğŸ”<br>Transferencia<br>entre cuentas
    </a>

    <a href="{% url 'traspaso_efectivo_banco' %}" class="finanzas-card efectivo">
        ğŸ’µ â‡„ ğŸ¦<br>Traspaso efectivo
    </a>

</div>

<!-- ================= RESUMEN ================= -->
<div style="
    display:flex;
    gap:20px;
    flex-wrap:wrap;
    justify-content:center;
    margin-bottom:40px;
">

    <div class="resumen-card efectivo">
        <h3>ğŸ’µ Efectivo</h3>
        <p>${{ saldo_efectivo }}</p>
    </div>

    <div class="resumen-card bancos">
        <h3>ğŸ¦ Bancos</h3>
        <p>${{ saldo_bancos }}</p>
    </div>

    <div class="resumen-card total">
        <h3>ğŸ’° Total General</h3>
        <p>${{ total }}</p>
    </div>

</div>

<!-- ================= TABLA ================= -->
<h3 style="text-align:center;">Detalle de cuentas bancarias</h3>

<table style="
    width:100%;
    max-width:900px;
    margin:20px auto;
    border-collapse:collapse;
">
    <tr style="background:#EEEEEE;">
        <th style="padding:10px;">Cuenta</th>
        <th style="padding:10px;">Banco</th>
        <th style="padding:10px;">Saldo</th>
        <th style="padding:10px;"></th>
    </tr>

    {% for cuenta in cuentas %}
    <tr style="border-bottom:1px solid #ddd;">
        <td style="padding:10px;">{{ cuenta.nombre }}</td>
        <td style="padding:10px;">{{ cuenta.banco }}</td>
        <td style="padding:10px;">${{ cuenta.saldo_actual }}</td>
        <td style="padding:10px;">
            <a href="{% url 'movimientos_cuenta' cuenta.id %}">
                Ver movimientos
            </a>
        </td>
    </tr>
    {% endfor %}
</table>

<!-- ================= ESTILOS ================= -->
<style>
.finanzas-card{
    width:220px;
    padding:25px;
    border-radius:12px;
    text-align:center;
    text-decoration:none;
    font-weight:bold;
    color:white;
    box-shadow:0 4px 8px rgba(0,0,0,0.2);
    transition:transform 0.15s ease, box-shadow 0.15s ease;
}

.finanzas-card:hover{
    transform:translateY(-4px);
    box-shadow:0 6px 12px rgba(0,0,0,0.3);
}

/* acciones */
.finanzas-card.ingreso{ background:#1976D2; }
.finanzas-card.ingreso:hover{ background:#1565C0; }

.finanzas-card.transferencia{ background:#7B1FA2; }
.finanzas-card.transferencia:hover{ background:#6A1B9A; }

.finanzas-card.efectivo{ background:#2E7D32; }
.finanzas-card.efectivo:hover{ background:#1B5E20; }

/* resumen */
.resumen-card{
    width:240px;
    padding:20px;
    border-radius:14px;
    text-align:center;
    font-weight:bold;
    color:white;
    box-shadow:0 4px 8px rgba(0,0,0,0.2);
}

.resumen-card h3{
    margin-bottom:10px;
    font-size:18px;
}

.resumen-card p{
    font-size:26px;
    margin:0;
}

.resumen-card.efectivo{ background:#2E7D32; }
.resumen-card.bancos{ background:#1565C0; }
.resumen-card.total{ background:#FF9800; }
</style>

{% endblock %}
