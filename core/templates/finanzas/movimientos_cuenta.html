{% extends 'core/base.html' %}

{% block content %}
<h2 class="mb-3">
    üè¶ Movimientos ‚Äì {{ cuenta.nombre }}
</h2>

<!-- BOT√ìN REGRESAR -->
<div class="mb-3">
    <a href="{% url 'balance_cuentas' %}" class="btn btn-secondary">
        ‚¨Ö Volver a balance
    </a>
</div>

<!-- TABLA DE MOVIMIENTOS -->
<table class="table table-striped table-bordered align-middle">
    <thead class="table-dark">
        <tr>
            <th>Fecha</th>
            <th>Tipo</th>
            <th>Descripci√≥n</th>
            <th class="text-end">Monto</th>
        </tr>
    </thead>
    <tbody>
    {% for m in movimientos %}
        <tr>
            <td>
                {{ m.fecha|date:"d M Y H:i" }}
            </td>

            <td>
                {% if m.tipo == 'INGRESO' %}
                    <span class="badge bg-success">
                        ‚ûï Ingreso
                    </span>
                {% else %}
                    <span class="badge bg-danger">
                        ‚ûñ Egreso
                    </span>
                {% endif %}
            </td>

            <td>
                {{ m.descripcion|default:"‚Äî" }}
            </td>

            <td class="text-end">
                {% if m.tipo == 'INGRESO' %}
                    <span class="text-success fw-bold">
                        +${{ m.monto|floatformat:2 }}
                    </span>
                {% else %}
                    <span class="text-danger fw-bold">
                        -${{ m.monto|floatformat:2 }}
                    </span>
                {% endif %}
            </td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="4" class="text-center text-muted">
                No hay movimientos registrados para esta cuenta.
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

{% endblock %}
